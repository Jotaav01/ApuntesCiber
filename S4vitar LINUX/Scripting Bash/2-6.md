A SABER

En este segundo apartado tocaremos esto:

- Hacemos uso de Curl para obtener el código fuente de la página cuyos datos deseamos filtrar
- Jugamos con js-beautify para mejorar el código en formato Javascript que se nos reporta
- Comprobamos la integridad de los datos con md5sum
- Diseñamos un modo que nos permita detectar nuevas actualizaciones en los archivos
- Diseñamos el comportamiento a la hora de detectar y no detectar actualizaciones


Aqui continuo haciendo el panel de ayuda

![[Pasted image 20240528212257.png]]

Ahora he creado una funcion nueva de actualizar archivos en la que sera llamada cuando  el usuario ponga -u, que lo que hara abajo es entrar en el elseif y el parameter_counter valga 2 y llame de esa forma la funcion (falta poner u en el while y cuidado con los espacios en los operadores)
![[Pasted image 20240528213017.png]]
![[Pasted image 20240528213809.png]]

En esto siguiente lo que he hecho ha sido crear un apartado de variables a las que puedo llamar cuando quiera en una funcion,
en este caso es a una url, la cual llamo y hago que se reemplace por mi bundle.js de ese momento de tal forma que se actualiza
![[Pasted image 20240529210519.png]]

Aqui lo que he hecho ha sido añadir un if el cual compruebe si bundle.js existe o no, y lo del tput que sirve para que segun entre no aparezca el cursor y luego al finalizar lo devuelva
![[Pasted image 20240529212321.png]]

Aqui le he añadido que se hashen los archivos bundle para luego compararlos el uno con el otro y si es el mismo hash no hay actualizacion si no mensaje de pendiente
![[Pasted image 20240529214229.png]]

