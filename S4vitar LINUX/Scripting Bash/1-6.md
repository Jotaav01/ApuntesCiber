A SABER
En este primer apartado se vera esto: 

- Creación de un menú con GETOPTS que nos permita alternar entre una serie de funciones existentes
- Creación de funciones
- Uso y empleo de condicionales en Bash
- Control del flujo del programa frente a Ctrl+C


Lo primero mernos desde root al directorio opt 
![[Pasted image 20240527202414.png]]
Despues crearemos esta carpeta y nos asignaremos tanto como propietario como grupo a este directorio creado
![[Pasted image 20240527202617.png]]

Despues aqui dentro nos creamos el script y le asignamos los permisos de ejecuccion(crea el script dentro de htbmachines)

![[Pasted image 20240527203038.png]]
Una vez en el script lo primero en crear sera el output del Ctrl+C
que es para cortar la ejecuccion del script y meter una paleta de colores en este caso la de s4vitar https://github.com/s4vitar/rpcenum/blob/master/rpcenum
![[Pasted image 20240527205230.png]]
Despues fuera del script nos descargaremos y pegaremos la pagina de js de s4vitar que es donde estan los nombres de las maquinas y demas (para tenerlo en local)
![[Pasted image 20240527210615.png]]

Lo siguien te sera instalar js-beautify para poder ver bien el formato de Javascript
![[Pasted image 20240527211220.png]]
![[Pasted image 20240527211634.png]]
![[Pasted image 20240527211907.png]]

De tal forma que ya se podria filtrar mucho mejor
![[Pasted image 20240527212021.png]]
En esta parte le estamos dando un valor a los parametros -m(filtrar) y -h(ayuda) del script
![[Pasted image 20240527212310.png]]
Le creamos lso 2 casos m) y h) de tal forma que cuando se escriba el -h se llame a la funcion helpPanel en este caso
![[Pasted image 20240527212618.png]]

En esto siguiente lo que hemos hecho ha sido crear un condicional que en caso de que no escriba un -m nos llame a la funcion 
![[Pasted image 20240527214944.png]]



