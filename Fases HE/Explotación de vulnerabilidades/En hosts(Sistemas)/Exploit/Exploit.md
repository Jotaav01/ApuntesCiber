A SABER
Una vez tenemos un analisis de vulnerabilidades hacia uno o varios sistemas escogeremos una vulnerabilidad y buscaremos el exploit en este caso es UnrealIRDc-3.2.8.1-Backdoor una vez obtenida o descargada en nuestro equipo la abriremos en nuestra consola con un editor de txt como por ejemplo emacs con el cual tendremos que editar los siguientes parámetros de el.
![[Pasted image 20240519164131.png]]
En local_ip colocaremos la ip de nuestro equipo y en local_port colocaremos un puerto el cual se conectara.
![[Pasted image 20240519164149.png]]
En local_ip colocaremos la ip de nuestro equipo y en local_port colocaremos un puerto el cual se conectara.
![[Pasted image 20240519164207.png]]
Antes de tirar el exploit hacia la maquina victima ubuntu necesitamos poder escuchar el puerto desde la maquina atacante en este caso lo haremos con una herramienta llamada netcat
![[Pasted image 20240519164235.png]]
![[Pasted image 20240519164245.png]]
Una vez tirado, en la consola en la que estabamos escuchando ese puerto veremos que tendremos acceso a la maquina de la victima

Conceptos de Metasploitable:

Metasploitable

Es un framework, es decir un conjunto de herramientas que nos va a permitir realizar este proceso de explotación de manera sencilla. A parte tiene almacenado un conjunto de exploits, y a demas tiene un conjunto de herramientas auxiliares que nos permiten realizar toda la fase del lanzamiento del exploit contra un sistema.

La ruta donde se sitúa Metasploit:
![[Pasted image 20240519164303.png]]
modules es donde estan cada uno de los exploit que vayamos a usar, aparte tambien esta el apartado de plugins en el que nos permite realizar cada una de las otras tareas, como por ejemplo unir Metasploit con Nessus para recoger los resultados que nos ofrece Nessus y importarlos directamente a Metasploit.
![[Pasted image 20240519164343.png]]
A parte metasploit tiene herramientas como esta de msfconsole que lo que vamos a poder hacer son cosas como conectarnos a la escucha de un puerto como en netcat o hacer busquedas exactas de una vulnerabilidad, y que nos lleve a esa ruta donde esta el exploit. (Con el comando help vemos todo lo que hay)
![[Pasted image 20240519164421.png]]
Aqui vemos como realiza una busqueda de el nombre de un exploit y nos dice la ruta sobre el nombre que ponemos, nos dice la fecha de aparición de ese exploit, como funciona en este caso excelente.(msf6 o msfconsole es la aplicacion de consola de metasploit
![[Pasted image 20240519164443.png]]
Una vez conseguido esa ruta nos metemos en la configuracion de ese exploit
![[Pasted image 20240519164516.png]]
![[Pasted image 20240519164528.png]]
Usando show options nos dice lo necesario para configurar el exploit en este caso indicar el host objetivo, y el puerto objetivo al que nos vamos a conectar. Y con el set rhosts lo que haremos sera colocar la maquina objetivo en el exploit
![[Pasted image 20240519164548.png]]
Con el comando show payloads lo que hará sera buscar los payloads compatibles con ese exploit, y nos indica la ruta de ese payload
![[Pasted image 20240519164606.png]]
Una vez escojamos el payload que nos interese lo introduciremos de esta forma en el exploit.
![[Pasted image 20240519164624.png]]
Cuando ya tenemos ese payload establecido veremos que en el comando show options estará la opcion de payload para su configuracion. (Payload cambiado se el /generic al /reverse
![[Pasted image 20240519164646.png]]
Configuraremos el payload al cual le colocaremos nuestra ip o host de escucha con el comando set lhost “IP” y el puerto de escucha.

Otras herramientas utiles de Metasploit :

msfvenom es una herramienta que sirve como generador de payloads

Armitage:

Es prácticamente lo mismo que metasploit pero en vez de funcionar por consola de comandos tiene una interfaz grafica.
![[Pasted image 20240519164717.png]]
Una vez instalado se activa el servicio de esta forma.
![[Pasted image 20240519164740.png]]
Lanzando el comando armitage se nos abrira esta pestaña donde nos pregunta donde tenemos nuestra instancia de metasploit corriendo en este caso se queda por defecto.
![[Pasted image 20240519164756.png]]
En caso de no tener ningun servidor corriendo nos preguntara si queremos que lo levante por nosotros en este caso le daremos a que SI lo levante por nosotros
![[Pasted image 20240519164816.png]]
